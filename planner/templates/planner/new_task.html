{% extends "khronos/base.html" %}

{% block content %}
<section class="task-entry">
    <h3>Create a new task</h3>
    <form method="POST" action="/planner/new_task/">
        {% csrf_token %}
        <div class="form-group">
            <label for="title">Title</label>
            <input type="text" class="form-control" id="title" name="title" value="{{ form.title.value|default_if_none:'' }}">
        </div>
        {% if form.title.errors %}
            {% for err in form.title.errors %}
            <div class="form-error">{{ err|escape }}</div>
            {% endfor %}
        {% endif %}
        <div class="form-group">
            <label for="desc">Description</label>
            <textarea class="form-control" rows="7" id="desc" name="description">{{ form.description.value|default_if_none:'' }}</textarea>
        </div>
        {% if form.description.errors %}
            {% for err in form.description.errors %}
            <div class="form-error">{{ err|escape }}</div>
            {% endfor %}
        {% endif %}
        <div class="form-group">
            <label for="category">Category</label>
            <select class="form-control" id="category" name="category">
                {% for tn, tv in category_opts %}
                <option value="{{ tn }}">{{ tv }}</option>
                {% endfor %}
            </select>
        </div>
        {% if form.category.errors %}
            {% for err in form.category.errors %}
            <div class="form-error">{{ err|escape }}</div>
            {% endfor %}
        {% endif %}
        <div class="form-group">
            <label for="priority">Priority</label>
            <select class="form-control" id="priority" name="priority">
                {% for tn, tv in priority_opts %}
                <option value="{{ tn }}">{{ tv }}</option>
                {% endfor %}
            </select>
        </div>
        {% if form.priority.errors %}
            {% for err in form.priority.errors %}
            <div class="form-error">{{ err|escape }}</div>
            {% endfor %}
        {% endif %}
        <div class="form-group">
            <label for="due">Due Date</label>
            <input type="text" class="form-control" id="due" name="date_due">
        </div>
        {% if form.date_due.errors %}
            {% for err in form.date_due.errors %}
            <div class="form-error">{{ err|escape }}</div>
            {% endfor %}
        {% endif %}
        <div class="form-group">
            <label for="testimate">Time Estimate</label>
            <input type="text" class="form-control" id="testimate" name="time_estimate">
        </div>
        {% if form.time_estimate.errors %}
            {% for err in form.time_estimate.errors %}
            <div class="form-error">{{ err|escape }}</div>
            {% endfor %}
        {% endif %}
        <button type="submit" class="btn btn-primary">Create</button>
    </form>
</section>
<a role="button" href="../dashboard" class="btn btn-primary">Back to Dashboard</a>
{% endblock %}